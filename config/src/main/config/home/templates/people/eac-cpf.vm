#set($defaultOnError = "&Invalid XML placeholder... prevents Harvesting records in error&")
#set($group = $systemConfig.getString($defaultOnError, "redbox.identity", "RIF-CS Group"))

##### START Identifier resolution
#set($pidProperty = $systemConfig.getString($defaultOnError, "curation", "pidProperty"))
#set ($pid = $util.getMetadata($object, $pidProperty))
#if ("$!pid" == "")
    #set ($pid = $util.get($item, "metadata", "rdf:resource"))
    #if ("$!pid" == "")
        #set ($pid = $util.get($item, "metadata", "dc.identifier"))
    #end
#end
##### END Identifier resolution

<eac-cpf xmlns="urn:isbn:1-931666-33-4"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:xlink="http://www.w3.org/1999/xlink"
	xsi:schemaLocation="urn:isbn:1-931666-33-4 http://eac.staatsbibliothek-berlin.de/schema/cpf.xsd">

    <control>
        <recordId>$oid</recordId>
        <maintenanceStatus>new</maintenanceStatus>
        <maintenanceAgency>
            <agencyCode>TO-DO</agencyCode>
            <agencyName>$group</agencyName>
        </maintenanceAgency>
        <languageDeclaration>
            <language languageCode="eng">English</language>
            <script scriptCode="Latn">Latin</script>
        </languageDeclaration>
    </control>

    <cpfDescription>
        <identity>
            <entityId>$pid</entityId>
            <entityType>person</entityType>
            <nameEntry>
                <part localType="forename">$util.encodeXml($util.get($item, 'data', 'Given_Name'))</part>
                #set ($value = $util.get($item, "data", "Family_Name"))
                #if ("$!value" != "")
                <part localType="surname">$util.encodeXml($value)</part>
                #end
            </nameEntry>
        </identity>
    </cpfDescription>
</eac-cpf>